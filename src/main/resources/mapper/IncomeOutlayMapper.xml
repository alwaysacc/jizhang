<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jizhang.jizhang.dao.IncomeOutlayMapper">
  <resultMap id="BaseResultMap" type="com.jizhang.jizhang.model.IncomeOutlay">
    <!--
      WARNING - @mbg.generated
    -->
    <result column="id" jdbcType="INTEGER" property="id" />
    <result column="amount" jdbcType="DOUBLE" property="amount" />
    <result column="category" jdbcType="VARCHAR" property="category" />
    <result column="address" jdbcType="VARCHAR" property="address" />
    <result column="dates" jdbcType="VARCHAR" property="dates" />
    <result column="createDate" jdbcType="VARCHAR" property="createdate" />
    <result column="remarks" jdbcType="VARCHAR" property="remarks" />
    <result column="type" jdbcType="INTEGER" property="type" />
    <result column="account" jdbcType="VARCHAR" property="account" />
    <result column="userId" jdbcType="VARCHAR" property="userid" />
  </resultMap>
  <!--查询今天-->
  <select id="getToday" resultType="IncomeOutlay">
    select id,amount,category,address,dates,createDate,remarks,type,account from income_outlay where to_days(createDate) = to_days(now()) and userid=#{userid}
  </select>
  <!--查询本周-->
  <select id="getWeek" resultType="IncomeOutlay">
    select id,amount,category,address,dates,createDate,remarks,type,account from income_outlay where YEARWEEK(date_format(createDate,'%Y-%m-%d')) = YEARWEEK(now())  and userid=#{userid}
  </select>
  <!--查询本月-->
  <select id="getMonth" resultType="IncomeOutlay">
    select id,amount,category,address,dates,createDate,remarks,type,account from income_outlay where date_format(createDate,'%Y-%m')=date_format(now(),'%Y-%m')  and userid=#{userid}
  </select>
  <!--查询本年-->
  <select id="getYear" resultType="IncomeOutlay">
    select id,amount,category,address,dates,createDate,remarks,type,account from income_outlay where YEAR(createDate)=YEAR(NOW())  and userid=#{userid}
  </select>
</mapper>